<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Leaf's scripts</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-left"><img src="https://avatars.githubusercontent.com/u/220599690?v=4&size=40" class="nav-icon"></div>
        <div class="search-container"><input type="text" id="search" placeholder="Search scripts..." onkeyup="filter()"></div>
    </nav>

    <div class="container">
        <div class="script-grid" id="list"></div>
    </div>

    <script>
        async function load() {
            const res = await fetch('https://api.github.com/repos/simplyIeaf/simplyIeaf.github.io/contents/raw');
            const files = await res.json();
            const list = document.getElementById('list');
            list.innerHTML = '';

            files.forEach(f => {
                const slug = f.name.replace('.lua', '');
                const displayName = slug.split('-').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');
                
                const card = document.createElement('div');
                card.className = 'paste-card';
                card.onclick = () => location.href = `scripts/${slug}/`;
                card.innerHTML = `<h3>${displayName}</h3><p style="color:#8b949e; font-size:0.8rem;">Click to view script</p>`;
                list.appendChild(card);
            });
        }
        function filter() {
            let q = document.getElementById('search').value.toLowerCase();
            document.querySelectorAll('.paste-card').forEach(c => c.style.display = c.innerText.toLowerCase().includes(q) ? '' : 'none');
        }
        load();
    </script>
</body>
</html>
